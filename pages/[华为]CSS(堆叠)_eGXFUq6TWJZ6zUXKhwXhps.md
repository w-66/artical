# \[åä¸º]CSS(å †å )

# ä»‹ç»

#### å®šä¹‰

é›†ç¾¤äº¤æ¢ç³»ç»ŸCSSï¼ˆCluster Switch Systemï¼‰ï¼Œåˆç§°ä¸ºå †å ï¼Œæ˜¯æŒ‡å°†å¤šå°æ”¯æŒå †å ç‰¹æ€§çš„äº¤æ¢æœºè®¾å¤‡ç»„åˆåœ¨ä¸€èµ·ï¼Œä»é€»è¾‘ä¸Šç»„åˆæˆä¸€å°æ•´ä½“äº¤æ¢è®¾å¤‡ï¼Œå¦‚[å›¾1](http://localhost:7890/pages/DCB1222B/03/DCB1222B/03/resources/dc/dc_fd_css_0002.html#dc_fd_css_0002__fig_dc_fd_css_000201 "å›¾1")æ‰€ç¤ºã€‚

**å›¾1** CSSç¤ºæ„å›¾

![](http://localhost:7890/pages/DCB1222B/03/DCB1222B/03/resources/dc/images/fig_dc_fd_css_000201.png)

#### ç›®çš„

éšç€æ•°æ®ä¸­å¿ƒæ•°æ®è®¿é—®é‡çš„é€æ¸å¢å¤§ä»¥åŠç½‘ç»œå¯é æ€§è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œå•å°äº¤æ¢æœºå·²ç»æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œè€Œé€šè¿‡äº¤æ¢æœºçš„å †å èƒ½å¤Ÿå®ç°æ•°æ®ä¸­å¿ƒå¤§æ•°æ®é‡è½¬å‘å’Œç½‘ç»œé«˜å¯é æ€§ã€‚

#### å—ç›Š

å †å ä¸»è¦å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š

-   é«˜å¯é æ€§ã€‚å †å ç³»ç»Ÿå¤šå°æˆå‘˜è®¾å¤‡ä¹‹é—´å†—ä½™å¤‡ä»½ï¼›å †å æ”¯æŒè·¨è®¾å¤‡çš„é“¾è·¯èšåˆåŠŸèƒ½ï¼Œå®ç°è·¨è®¾å¤‡çš„é“¾è·¯å†—ä½™å¤‡ä»½ã€‚
-   å¼ºå¤§çš„ç½‘ç»œæ‰©å±•èƒ½åŠ›ã€‚é€šè¿‡å¢åŠ æˆå‘˜è®¾å¤‡ï¼Œå¯ä»¥è½»æ¾çš„æ‰©å±•å †å ç³»ç»Ÿçš„ç«¯å£æ•°ã€å¸¦å®½å’Œå¤„ç†èƒ½åŠ›ã€‚
-   ç®€åŒ–é…ç½®å’Œç®¡ç†ã€‚å †å å½¢æˆåï¼Œå¤šå°ç‰©ç†è®¾å¤‡è™šæ‹Ÿæˆä¸ºä¸€å°è®¾å¤‡ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ä»»ä½•ä¸€å°æˆå‘˜è®¾å¤‡ç™»å½•å †å ç³»ç»Ÿï¼Œå¯¹å †å ç³»ç»Ÿæ‰€æœ‰æˆå‘˜è®¾å¤‡è¿›è¡Œç»Ÿä¸€é…ç½®å’Œç®¡ç†ã€‚





# CSS(å †å )å‘½ä»¤

[https://support.huawei.com/hedex/hdx.do?docid=EDOC1100211201\&id=AZK09107\_04\_10030\&lang=zh](https://support.huawei.com/hedex/hdx.do?docid=EDOC1100211201\&id=AZK09107_04_10030\&lang=zh "https://support.huawei.com/hedex/hdx.do?docid=EDOC1100211201\&id=AZK09107_04_10030\&lang=zh")

[https://support.huawei.com/hedex/hdx.do?docid=EDOC1100211201\&id=ZH-CN\_TASK\_0177100936\&lang=zh](https://support.huawei.com/hedex/hdx.do?docid=EDOC1100211201\&id=ZH-CN_TASK_0177100936\&lang=zh "https://support.huawei.com/hedex/hdx.do?docid=EDOC1100211201\&id=ZH-CN_TASK_0177100936\&lang=zh")

`stack port enable`

`port member-group`

å‘½ä»¤ç”¨æ¥å‘å †å ç«¯å£ä¸­æ·»åŠ å †å ç‰©ç†æˆå‘˜ç«¯å£

#### display

`display stack configuration all`

`display stack topology`

# ç¤ºä¾‹

-   ç¤ºä¾‹3ï¼šä¸¤ä¸ªäº¤æ¢æœºå †å 

    ![ç‰©ç†è¿æ¥å›¾](../image/image_5AAUFZqGOF.png "ç‰©ç†è¿æ¥å›¾")

    é…ç½®æ—¥å¿—

    [CRT\_session-NW\_æ¥¼å±‚HJ1\_172.16.254.3-20220301.log](../file/CRT_session-NW_æ¥¼å±‚HJ1_172.16.254.3-20220301_V76l9dO.log "CRT_session-NW_æ¥¼å±‚HJ1_172.16.254.3-20220301.log")

    [CRT\_session-NW\_æ¥¼å±‚HJ2\_172.16.254.4-20220301.log](../file/CRT_session-NW_æ¥¼å±‚HJ2_172.16.254.4-20220301_vej-oSw.log "CRT_session-NW_æ¥¼å±‚HJ2_172.16.254.4-20220301.log")
-   ç¤ºä¾‹2(åä¸ºæ–‡æ¡£ï¼šé…ç½®å †å ç¤ºä¾‹)

    å¦‚[ğŸ–¼ï¸ å›¾ç‰‡](http://127.0.0.1:7890/pages/DCB1222B/03/DCB1222B/03/resources/dc/images/fig_dc_cfg_istack_004101.png "ğŸ–¼ï¸ å›¾ç‰‡")æ‰€ç¤ºï¼ŒSwitchAã€SwitchBã€SwitchCå’ŒSwitchDå››å°äº¤æ¢æœºç»„æˆç¯å‹å †å ç³»ç»Ÿã€‚

    ç”±äºç½‘ç»œè§„æ¨¡çš„æ‰©å¤§ï¼Œæ¥å…¥å±‚äº¤æ¢æœºæä¾›çš„ç«¯å£æ•°å·²ç»ä¸èƒ½æ»¡è¶³æœåŠ¡å™¨çš„æ¥å…¥è¦æ±‚ï¼Œéœ€è¦åœ¨ä¿æŠ¤ç°æœ‰æŠ•èµ„çš„åŸºç¡€ä¸Šæ‰©å±•ç«¯å£æ¥å…¥æ•°é‡ï¼Œå¹¶è¦æ±‚ç½‘ç»œæ˜“ç®¡ç†ã€æ˜“ç»´æŠ¤ã€‚

    ä»¥S5700LIçš„ä¸šåŠ¡å£å †å ä¸ºä¾‹ã€‚
    -   **å›¾1** é…ç½®å †å ç»„ç½‘å›¾

        ![](http://127.0.0.1:7890/pages/DCB1222B/03/DCB1222B/03/resources/dc/images/fig_dc_cfg_istack_004101.png)
    #### é…ç½®æ€è·¯
    é‡‡ç”¨å¦‚ä¸‹çš„æ€è·¯é…ç½®ï¼š
    1.  æŒ‰ç…§[å›¾1](http://127.0.0.1:7890/pages/DCB1222B/03/DCB1222B/03/resources/dc/dc_cfg_istack_0041.html?ft=0\&fe=10\&hib=1.5.10.12.8.1\&id=dc_cfg_istack_0041#dc_cfg_istack_0041__fig_dc_cfg_istack_004101 "å›¾1")æ‰€ç¤ºï¼Œä½¿ç”¨SFP+å †å ç”µç¼†è¿æ¥å„ç«¯å£ã€‚
    2.  ä¸ºäº†èƒ½å¤Ÿåœ¨å †å çš„æˆå‘˜è®¾å¤‡é—´è½¬å‘æ•°æ®æŠ¥æ–‡ï¼Œé…ç½®å †å ç‰©ç†æˆå‘˜ç«¯å£ï¼Œå¹¶åŠ å…¥å †å ç«¯å£ã€‚æ³¨æ„åŒä¸€æ¡å †å é“¾è·¯ä¸Šçš„ä¸¤ä¸ªå †å ç‰©ç†æˆå‘˜ç«¯å£éœ€åŠ å…¥ä¸åŒå †å ç«¯å£ã€‚
    #### æ“ä½œæ­¥éª¤
    -   1ã€é…ç½®å †å ç«¯å£
        1.  é…ç½®SwitchAçš„ä¸šåŠ¡å£GigabitEthernet0/0/27ï½GigabitEthernet0/0/28ä¸ºå †å ç‰©ç†æˆå‘˜ç«¯å£ï¼Œå¹¶åŠ å…¥å †å ç«¯å£ã€‚`stack port enable`ã€`port member-group`
            ```çº¯æ–‡æœ¬
            <HUAWEI> system-view
            [HUAWEI] sysname SwitchA
            [SwitchA] stack port interface gigabitethernet 0/0/27 enable
            Warning: Enabling stack port may cause configuration loss on the interface, continue?[Y/N]:y
            [SwitchA] stack port interface gigabitethernet 0/0/28 enable
            Warning: Enabling stack port may cause configuration loss on the interface, continue?[Y/N]:y
            [SwitchA] interface stack-port 0/1
            [SwitchA-stack-port0/1] port member-group interface gigabitethernet 0/0/27
            [SwitchA-stack-port0/1] quit
            [SwitchA] interface stack-port 0/2
            [SwitchA-stack-port0/2] port member-group interface gigabitethernet 0/0/28
            [SwitchA-stack-port0/2] quit
            ```
        2.  é…ç½®SwitchBçš„ä¸šåŠ¡å£GigabitEthernet0/0/27ï½GigabitEthernet0/0/28ä¸ºå †å ç‰©ç†æˆå‘˜ç«¯å£ï¼Œå¹¶åŠ å…¥å †å ç«¯å£ã€‚
            ```çº¯æ–‡æœ¬
            <HUAWEI> system-view
            [HUAWEI] sysname SwitchB
            [SwitchB] stack port interface gigabitethernet 0/0/27 enable
            Warning: Enabling stack port may cause configuration loss on the interface, continue?[Y/N]:y
            [SwitchB] stack port interface gigabitethernet 0/0/28 enable
            Warning: Enabling stack port may cause configuration loss on the interface, continue?[Y/N]:y
            [SwitchB] interface stack-port 0/1
            [SwitchB-stack-port0/1] port member-group interface gigabitethernet 0/0/27
            [SwitchB-stack-port0/1] quit
            [SwitchB] interface stack-port 0/2
            [SwitchB-stack-port0/2] port member-group interface gigabitethernet 0/0/28
            [SwitchB-stack-port0/2] quit
            ```
        3.  é…ç½®SwitchCçš„ä¸šåŠ¡å£GigabitEthernet0/0/27ï½GigabitEthernet0/0/28ä¸ºå †å ç‰©ç†æˆå‘˜ç«¯å£ï¼Œå¹¶åŠ å…¥å †å ç«¯å£ã€‚
        4.  é…ç½®SwitchDçš„ä¸šåŠ¡å£GigabitEthernet0/0/27ï½GigabitEthernet0/0/28ä¸ºå †å ç‰©ç†æˆå‘˜ç«¯å£ï¼Œå¹¶åŠ å…¥å †å ç«¯å£ã€‚
    -   2ã€é…ç½®å †å IDå’Œå †å ä¼˜å…ˆçº§
        1.  é…ç½®SwitchAçš„å †å ä¼˜å…ˆçº§ä¸º200ã€‚
            ```çº¯æ–‡æœ¬
            [SwitchA] stack slot 0 priority 200
            Warning:Please do not frequently modify Priority, it will make the stack split! continue?[Y/N]:y 
            ```
        2.  é…ç½®SwitchBçš„å †å IDä¸º1ã€‚
            ```çº¯æ–‡æœ¬
            [SwitchB] stack slot 0 renumber 1
            Warning:Please do not frequently modify slotid, it will make the stack split! co
            ntinue?[Y/N]:y
            Info: Stack configuration has been changed, need reboot to take effect. 
            ```
        3.  é…ç½®SwitchCçš„å †å IDä¸º2ã€‚
        4.  é…ç½®SwitchDçš„å †å IDä¸º3ã€‚
    -   3ã€é‡æ–°å¯åŠ¨æ‰€æœ‰äº¤æ¢æœº
    -   4ã€éªŒè¯é…ç½®ç»“æœ
        ```çº¯æ–‡æœ¬
        <SwitchA> display stack
        Stack topology type : Ring
        Stack system MACï¼š0018-82d2-2e85
        MAC switch delay time: 10 min
        Stack reserve vlanid : 4093
        slot#     Role        Mac address      Priority   Device type
        -------------------------------------------------------------
            0     Master      0018-82d2-2e85   200        S5700-28P-LI-AC
            1     Slave       0018-82c6-1f44   100        S5700-28P-LI-AC
            2     Standby     0018-82c6-1f4c   100        S5700-28P-LI-AC
            3     Slave       0018-82b1-6eb8   100        S5700-28P-LI-AC
        ```
-   ç¤ºä¾‹1[^1]
    -   ç¤ºä¾‹1.0

        ä¸»è®¾å¤‡
        ```çº¯æ–‡æœ¬
        ]stack
        -stack]stack member 1
        -stack]stack priority 200
        -stack]stack domain 100
        -stack]stack link-type lineborad-direct


        ```
    -   1ã€CSSå‘½ä»¤

        ![](../image/image_GVFdSaesN8.png)

        ![](../image/image_2a-QYFdbp5.png)

        ![](../image/image_lDJKPbhnf_.png)
    -   2ã€`display stack configuration all`

        ![](../image/image_3Xx4yZfIaM.png)
    -   3ã€å®Œæˆé…ç½®ä¹‹å ä½¿èƒ½å †å (åœ¨é…ç½®å®Œæˆä¹‹å)å…ˆé‡å¯ä¸»
        ```çº¯æ–‡æœ¬
        ]stack
        -stack]stack enable
        ```




[^1]: https\://www\.bilibili.com/video/av757700091?from=search\&seid=3310766606486256677\&spm\_id\_from=333.337.0.0
