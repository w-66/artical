# \[React]ç»„ä»¶ä¸å±æ€§

## æ¦‚å¿µç¢ç‰‡

-   ç»„ä»¶å‘½åéœ€è¦ä½¿ç”¨å¤§å†™å­—æ¯å¼€å¤´(PascalCaseå¤§é©¼å³°å‘½å)

***



-   \[ç¬”è®°]ç»„ä»¶ä¸æ¨¡å—ä»‹ç»

    ![](../image/image_euBqLl1IM5.png)

\[React]æ¨¡å—

\[React]ç»„ä»¶

\[React]æ¨¡å—åŒ–

\[React]ç»„ä»¶åŒ–

ç»„ä»¶åŒ–å¼€å‘

-   çµæ´»çš„å¤ç”¨ç»„ä»¶
    -   [\[React\]æ’æ§½æœºåˆ¶](\[React]æ’æ§½æœºåˆ¶_uuaHRdrQYxNTMe2KLps9ws.md "\[React]æ’æ§½æœºåˆ¶"),props

### \[React]ç»„ä»¶åˆ†ç±»

-   \[React]ç»„ä»¶æŒ‰ç¼–ç¨‹æ–¹å¼åˆ†ä¸ºï¼šå‡½æ•°å¼ç»„ä»¶ç±»å¼ç»„ä»¶,Hooksç»„ä»¶

***

-   é™æ€ç»„ä»¶
-   åŠ¨æ€ç»„ä»¶
-   å¤åˆç»„ä»¶

#### æŒ‰åŒ…å«å…³ç³»

-   çˆ¶ç»„ä»¶
    -   å­ç»„ä»¶
-   å…„å¼Ÿç»„ä»¶(éåµŒå¥—ç»„ä»¶)
-   ä»»æ„ç»„ä»¶
-   ç¥–ç»„ä»¶(è·¨çº§ç»„ä»¶)
    -   åä»£ç»„ä»¶

#### æŒ‰åŠŸèƒ½åˆ†ç±»

-   ä¸€èˆ¬ç»„ä»¶
-   è·¯ç”±ç»„ä»¶
    -   è·¯ç”±ç»„ä»¶çš„ä¼šæ¥æ”¶ä¸‰ä¸ªprops [ğŸ–¼ï¸ å›¾ç‰‡](../image/image_eKUtbtcWuW.png "ğŸ–¼ï¸ å›¾ç‰‡")
    -   \[å¯¹æ¯”]ä¸€èˆ¬ç»„ä»¶|è·¯ç”±ç»„ä»¶
        -   ä¸€èˆ¬ç»„ä»¶ï¼šç›´æ¥å†™ã€è·¯ç”±ç»„ä»¶ï¼šé€šè¿‡Router
        -   ä¾‹å¦‚ï¼šä¸€èˆ¬ç»„ä»¶ï¼šç›´æ¥å†™ã€è·¯ç”±ç»„ä»¶ï¼šé€šè¿‡Router

            ![](../image/image_5MTsoW_wO8.png)
        -   ä¾‹å¦‚ï¼šè·¯ç”±ç»„ä»¶çš„ä¼šæ¥æ”¶ä¸‰ä¸ªprops&#x20;

            ![](../image/image_7nHI7knLeF.png)



### ç»„ä»¶çš„é€šä¿¡æ–¹å¼

-   ç»„ä»¶é€šä¿¡æ–¹å¼1/4ï¼šprops
-   ç»„ä»¶é€šä¿¡æ–¹å¼2/4ï¼š[\[React\]æ¶ˆæ¯è®¢é˜…&æ¶ˆæ¯å‘å¸ƒ](\[React]æ¶ˆæ¯è®¢é˜…&æ¶ˆæ¯å‘å¸ƒ_prwmsFoDKTvHDdrrD4DvXQ.md "\[React]æ¶ˆæ¯è®¢é˜…&æ¶ˆæ¯å‘å¸ƒ")ï¼š[\[JSåº“\]PubSubJS](\[JSåº“]PubSubJS_xPdUSX2Zq1GZCEBDd9RK4.md "\[JSåº“]PubSubJS")
-   ç»„ä»¶é€šä¿¡æ–¹å¼3/4ï¼šçŠ¶æ€å±æ€§å…¨å±€å…±äº«|é›†ä¸­å¼ç®¡ç†ï¼š[\[JSåº“\]redux](\[JSåº“]redux_wYUdBtUF4wPMD74fXKn7zd.md "\[JSåº“]redux")
-   ç»„ä»¶é€šä¿¡æ–¹å¼4/4ï¼šContextï¼š`React.createContext()`,`Provider`,`Consumer`; `React.useContext()`

***

#### æ¨èçš„ç»„ä»¶ä¹‹é—´çš„é€šä¿¡æ–¹å¼

1.  çˆ¶ç»„ä»¶ â†’ä¼ é€’å‚æ•° â†’å­ç»„ä»¶&#x20;
    1.  çˆ¶ç»„ä»¶ â†’ä¼ é€’å‚æ•° â†’å­ç»„ä»¶ å¯ä»¥é€šè¿‡ ï¼šç»„ä»¶é€šä¿¡æ–¹å¼1/4ï¼šprops
2.  çˆ¶ç»„ä»¶ â†ä¼ é€’å‚æ•° â†å­ç»„ä»¶&#x20;
    1.  çˆ¶ç»„ä»¶ â†ä¼ é€’å‚æ•° â†å­ç»„ä»¶ å¯ä»¥é€šè¿‡ ç»„ä»¶é€šä¿¡æ–¹å¼1/4ï¼špropsï¼Œä½†æ˜¯éœ€è¦ä¸€ä¸ªå‰æï¼Œçˆ¶ç»„ä»¶æå‰ä¼ é€’çš„æ˜¯ä¸€ä¸ªå‡½æ•°
3.  ä»»æ„ç»„ä»¶,å…„å¼Ÿç»„ä»¶(éåµŒå¥—ç»„ä»¶)é€šä¿¡æ–¹å¼ï¼šç»„ä»¶é€šä¿¡æ–¹å¼2/4ï¼š[\[React\]æ¶ˆæ¯è®¢é˜…&æ¶ˆæ¯å‘å¸ƒ](\[React]æ¶ˆæ¯è®¢é˜…&æ¶ˆæ¯å‘å¸ƒ_prwmsFoDKTvHDdrrD4DvXQ.md "\[React]æ¶ˆæ¯è®¢é˜…&æ¶ˆæ¯å‘å¸ƒ")ï¼š[\[JSåº“\]PubSubJS](\[JSåº“]PubSubJS_xPdUSX2Zq1GZCEBDd9RK4.md "\[JSåº“]PubSubJS")
4.  ä»»æ„ç»„ä»¶ç»„ä»¶é€šä¿¡æ–¹å¼3/4ï¼šçŠ¶æ€å±æ€§å…¨å±€å…±äº«|é›†ä¸­å¼ç®¡ç†ï¼š[\[JSåº“\]redux](\[JSåº“]redux_wYUdBtUF4wPMD74fXKn7zd.md "\[JSåº“]redux")
5.  ç¥–ç»„ä»¶(è·¨çº§ç»„ä»¶)åä»£ç»„ä»¶ç»„ä»¶é€šä¿¡æ–¹å¼4/4ï¼šContextï¼š`React.createContext()`,`Provider`,`Consumer`; `React.useContext()`

[\[React\]æ¶ˆæ¯è®¢é˜…&æ¶ˆæ¯å‘å¸ƒ](\[React]æ¶ˆæ¯è®¢é˜…&æ¶ˆæ¯å‘å¸ƒ_prwmsFoDKTvHDdrrD4DvXQ.md "\[React]æ¶ˆæ¯è®¢é˜…&æ¶ˆæ¯å‘å¸ƒ")

***

-   ç¤ºä¾‹ï¼šå‡½æ•°å¼ç»„ä»¶çš„çˆ¶ç»„ä»¶ â†’ä¼ é€’å‚æ•° â†’å­ç»„ä»¶ [Â¶](https://zh-hans.react.dev/learn#sharing-data-between-components "Â¶") \[`React.useState()`]

    ![](../image/sharing_data_parent_clicked_DR4E-DShu-.webp)
    -   çˆ¶ç»„ä»¶
        ```react&#x20;jsx
        export default function MyApp() {
           const [count, setCount] = useState(0); 

          function handleClick() {
            setCount(count + 1);
          }

          return (
            <div>
              <h1>Counters that update together</h1>
              <MyButton count={count} onClick={handleClick} />
              <MyButton count={count} onClick={handleClick} />
            </div>
          );
        }
        ```
    -   å­ç»„ä»¶
        ```react&#x20;jsx
        function MyButton( { count, onClick } ) {
          return (
            <button onClick={onClick}>
              Clicked {count} times
            </button>
          );
        }
        ```
-   ç¤ºä¾‹ï¼šç¥–ç»„ä»¶(è·¨çº§ç»„ä»¶)åä»£ç»„ä»¶ç»„ä»¶é€šä¿¡æ–¹å¼4/4ï¼šContextï¼š`React.createContext()`,`Provider`,`Consumer`; `React.useContext()`



    2ã€ä½¿ç”¨MyContext.Providerä¼ å‚ \[2/3 `Provider`]

    3ã€å¯¼å…¥ï¼Œä½¿ç”¨useContext(MyContext)æ¥å‚æ•° \[3/3 `React.useContext()`]

    æˆ‘çš„ç¤ºä¾‹codeï¼šF:\Code\Web\React\react\_learn\src\components\Demo\DemoCreateContext
    ***
    åœ¨Reactä¸­ï¼Œ`useContext`æ˜¯ä¸€ä¸ªé’©å­å‡½æ•°ï¼ˆhookï¼‰ï¼Œå®ƒå…è®¸ä½ åœ¨å‡½æ•°ç»„ä»¶ä¸­ç›´æ¥è®¿é—®ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰çš„å€¼ã€‚ä¸Šä¸‹æ–‡æä¾›äº†ä¸€ç§åœ¨ç»„ä»¶ä¹‹é—´å…±äº«æ•°æ®çš„æ–¹å¼ï¼Œè€Œä¸å¿…æ‰‹åŠ¨åœ¨æ¯ä¸ªç»„ä»¶å±‚çº§ä¸Šä¼ é€’propsã€‚

    ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨`useContext`çš„åŸºæœ¬ç¤ºä¾‹ï¼š

    é¦–å…ˆï¼Œä½ éœ€è¦ä½¿ç”¨`createContext`å‡½æ•°åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ï¼šå¹¶å¯¼å‡º
    ```react&#x20;jsx
    import React, { createContext } from 'react';

    // åˆ›å»ºä¸Šä¸‹æ–‡
    export const MyContext = createContext();
    ```
    ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨`Provider`ç»„ä»¶ä¸ºä¸Šä¸‹æ–‡æä¾›ä¸€ä¸ªå€¼ï¼š
    ```react&#x20;jsx
    function App() {
      const contextValue = 'ä½ å¥½ï¼Œä¸–ç•Œï¼';

      return (
        <MyContext.Provider value={contextValue}>
          <ChildComponent />
        </MyContext.Provider>
      );
    }
    ```
    ç°åœ¨ï¼Œä½ å¯ä»¥åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨`useContext`é’©å­æ¥è®¿é—®ä¸Šä¸‹æ–‡çš„å€¼ï¼š<æ³¨æ„éœ€è¦å¯¼å…¥ï¼šMyContext>
    ```react&#x20;jsx
    import React, { useContext } from 'react';
    import { MyContext } from './App'     // 

    function ChildComponent() {
      const contextValue = useContext(MyContext);

      return <div>{contextValue}</div>;
    }
    ```
    æˆ–è€…ä½¿ç”¨
    ```react&#x20;jsx
    import MyContext from './App'   //

    // æ–¹å¼2
    export default function Third() {

        return (
          <div>
            <MyContext.Consumer>
              {
                (send)=>{
                  return 
                    <div>
                        ç¬¬ä¸‰å±‚
                        æ¥æ”¶æ¥è‡ªç¬¬ä¸€å±‚çš„å‚æ•°ï¼š{send.a},{send.b}
                    </div>
                }
              }
            </MyContext.Consumer>
          </div>
        )
    }

    ```
    åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`ChildComponent`å°†æ˜¾ç¤ºåœ¨`App`ç»„ä»¶ä¸­é€šè¿‡ä¸Šä¸‹æ–‡æä¾›çš„å€¼"ä½ å¥½ï¼Œä¸–ç•Œï¼"ã€‚

    ä½¿ç”¨`useContext`æ—¶ï¼Œè®°å¾—ä» 'react' åŒ…ä¸­å¯¼å…¥æ‰€éœ€çš„æ¨¡å—ï¼ˆ`useContext`ï¼Œ`createContext`ï¼‰ã€‚

    è¯·æ³¨æ„ï¼Œ`useContext`åªèƒ½åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œè€Œä¸èƒ½åœ¨ç±»ç»„ä»¶ä¸­ä½¿ç”¨ã€‚

***



<1>

## Reacté¢å‘\[React]ç»„ä»¶ç¼–ç¨‹

å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨[\[JS\]å‡½æ•°](\[JS]å‡½æ•°_q8pKc3ptUXDq5rmKUp42UD.md "\[JS]å‡½æ•°")å®šä¹‰çš„ç»„ä»¶ï¼Œæ‹¥æœ‰å±æ€§ï¼šprops

æ‰§è¡Œè¿‡ç¨‹

ç±»å¼ç»„ä»¶ä½¿ç”¨[\[JS\]Class](\[JS]Class_fJ1Vahi4EuQg9jYsxwvjmQ.md "\[JS]Class")å®šä¹‰çš„ç»„ä»¶ï¼šæ‹¥æœ‰å±æ€§ï¼šstate,props

-   ç±»å¼ç»„ä»¶å¿…é¡»çš„æ¡ä»¶ï¼š1ã€å¿…é¡»ç»§æ‰¿`React.Component`ã€å¿…é¡»æœ‰`ReactDOM.render()`; 3ã€renderå¿…é¡»æœ‰è¿”å›å€¼

Hooksç»„ä»¶åŒ…å«[\[React\]Hooks](\[React]Hooks_cdoA4yVU3YpyLmGC6GsSfF.md "\[React]Hooks")çš„å‡½æ•°å¼ç»„ä»¶

å‡½æ•°å¼ç»„ä»¶

ç±»å¼ç»„ä»¶

Hooksç»„ä»¶

`React.Component`



***

## ç±»å¼ç»„ä»¶

### ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§

\[React]ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§:state,props,refs

***

### stateå±æ€§è§£æ

-   çŠ¶æ€æå‡
    -   çŠ¶æ€æå‡åœ¨å‡ ä¸ªç»„ä»¶éƒ½éœ€è¦ä½¿ç”¨åŒä¸€ä¸ªçŠ¶æ€æ—¶ï¼Œæ”¾åœ¨ä»–ä»¬å…±æœ‰çš„çˆ¶ç»„ä»¶ä¸­
-   çŠ¶æ€åœ¨å“ªé‡Œï¼Œæ“ä½œçŠ¶æ€çš„æ–¹æ³•å°±åœ¨å“ªé‡Œ
-   æ¦‚å¿µè¯¦è§£ï¼šstateï¼šæ˜¯ç»„ä»¶ä¸­æœ€é‡è¦çš„å±æ€§ï¼Œå€¼æ˜¯å¯¹è±¡(å¯ä»¥åŒ…å«å¤šä¸ªkey-valueçš„ç»„åˆ)

    ç»„ä»¶è¢«ç§°ä¸º"çŠ¶æ€æœº" é€šè¿‡æ›´æ–°ç»„ä»¶çš„stateæ¥æ›´æ–°å¯¹åº”çš„é¡µé¢æ˜¾ç¤º(é‡æ–°ç…ŠæŸ“ç»„ä»¶)
    -   \[ç¬”è®°]æ€»ç»“state

        ![](../image/image_VGs7aG0SDw.png)

<!---->

-   `setState()`Reactè®¾å®šçš„apiï¼Œé€šè¿‡å®ƒä¿®æ”¹stateçš„å€¼&#x20;
    -   \[ç¬”è®°][\[React\]Hooks](\[React]Hooks_cdoA4yVU3YpyLmGC6GsSfF.md "\[React]Hooks"),`setState()`æ›´æ–°çŠ¶æ€çš„2ä¸­å†™æ³•ï¼šå¯¹è±¡å¼çš„setState ï¼š`setState(``stateChange``, [``callback``])`Reactçš„çŠ¶æ€æ›´æ–°æ˜¯å¼‚æ­¥æ›´æ–°()[Â¶](https://www.bilibili.com/video/BV1wy4y1D7JT?t=753.7\&p=116 "Â¶"); å‡½æ•°å¼çš„setStateï¼š `setState(``updater``, [``])`ä½¿ç”¨åŸåˆ™

        ![](../image/image_Bxu6KDngWy.png)
        -   ç¤ºä¾‹ï¼šå¯¹è±¡å¼çš„setState ï¼š`setState(``stateChange``, [``callback``])`

            å…³é”®

            ![](../image/image_QIwJ5rRtkP.png)

            ![](../image/image_RnWCbw1eaO.png)
        -   ç¤ºä¾‹ï¼šå‡½æ•°å¼çš„setStateï¼š `setState(``updater``, [``callback``])`[Â¶](https://www.bilibili.com/video/BV1wy4y1D7JT?t=1281.5\&p=116 "Â¶")

            ç®€åŒ–

            ![](../image/image_fEYdgZsVhw.png)

            ![](../image/image_ALW1frNuEf.png)
    -   å¯¹è±¡å¼çš„setState ï¼š`setState(``stateChange``, [``callback``])`
        -   `stateChange`
            -   æ‰€éœ€è¦æ›´æ–°çš„çŠ¶æ€
        -   Reactçš„çŠ¶æ€æ›´æ–°æ˜¯å¼‚æ­¥æ›´æ–°
            -   è°ƒç”¨å®ŒsetStateåçš„æ›´æ–°ä¸ºå¼‚æ­¥æ›´æ–°
    -   å‡½æ•°å¼çš„setStateï¼š `setState(``updater``, [``callback``])`
        -   `updater`
            -   `updater`ä¸ºå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªçŠ¶æ€ä¿®æ”¹çš„å¯¹è±¡ç›¸ç­‰äº`stateChange`çš„æ ¼å¼
            -   `updater`å¯ä»¥æ¥æ”¶state,props
    -   `callback`
        -   `callback`åœ¨çŠ¶æ€æ›´æ–°å®Œæ¯•ä¹‹åï¼Œæ‰§è¡Œçš„å›è°ƒ(å¯é€‰)
    -   ä½¿ç”¨åŸåˆ™



state

-   `setState()`



***

### propså±æ€§

#### æ„é€ æ–¹æ³•ä¸­çš„props

-   \[ç¬”è®°][ç±»å¼ç»„ä»¶ä¸­çš„æ„é€ å™¨ä¸props](https://www.bilibili.com/video/BV1wy4y1D7JT/?p=24 "ç±»å¼ç»„ä»¶ä¸­çš„æ„é€ å™¨ä¸props")

    ç»“è®ºï¼šæ„é€ æ–¹æ³•ä¸­çš„propsèƒ½çœåˆ™çœ
    -   æˆªå›¾

        ![](../image/image_IqS73RtvaI.png)

#### propså±æ€§|å‚æ•°

-   ä¸€ä¸ªç»„ä»¶æ¥æ”¶ä¸€äº›propså±æ€§|å‚æ•°ï¼Œæˆ‘ä»¬æŠŠè¿™äº›å‚æ•°å«åš propsï¼ˆâ€œpropsâ€ æ˜¯ â€œpropertiesâ€ ç®€å†™ï¼‰ï¼Œç„¶åé€šè¿‡`ReactDOM.render()`è¿”å›éœ€è¦å±•ç¤ºåœ¨å±å¹•ä¸Šçš„è§†å›¾çš„å±‚æ¬¡ç»“æ„ã€‚
-   propså±æ€§|å‚æ•°åªè¯»ï¼ŒåŸå› è¢«å†»ç»“äº†
-   å±æ€§å‚æ•°
-   æ ‡ç­¾ä½“å‚æ•°
    -   `children`

<!---->

-   \[ç¬”è®°]propsçš„åŸºæœ¬ä½¿ç”¨
    -   ç¤ºä¾‹ï¼špropsçš„åŸºæœ¬ä½¿ç”¨ \[props] \[è§£æ„èµ‹å€¼]

        ![](../image/image_73gKEHvqRI.png)

        ![](../image/image_N5Bs0qtcdi.png)
        -   v1ï¼šåŸºç¡€çš„ä½¿ç”¨
            ```javascript
            {% extends 'react_import_tmplate.html' %}

            {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
            {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

            {% block content %}
                <!-- åˆ›å»ºå®¹å™¨ -->
                <div id="text"></div>
                <div id="text1"></div>

                <script type="text/babel"> 
                    class Person extends React.Component{
                        render(){
                            return (
                                <ul>
                                    <li>{this.props.name}</li>
                                    <li>{this.props.age}</li>
                                    <li>{this.props.weight}</li>
                                </ul>
                            )
                        }
                    }
                    ReactDOM.render(<Person name='momo' age='21' weight='50kg'/>, document.getElementById('text'))
                    ReactDOM.render(<Person name='kaka' age='19' weight='50kg'/>, document.getElementById('text1'))
                </script>


            {% endblock %}
            ```
        -   v2  ä¿®æ”¹ä¸€ç‚¹ï¼šä½¿ç”¨è§£æ„èµ‹å€¼
            ```javascript
            {% extends 'react_import_tmplate.html' %}

            {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
            {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

            {% block content %}
                <!-- åˆ›å»ºå®¹å™¨ -->
                <div id="text"></div>
                <div id="text1"></div>

                <script type="text/babel"> 
                    class Person extends React.Component{
                        render(){
                            const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                            return (
                                <ul>
                                    <li>{this.props.name}</li>
                                    <li>{this.props.age}</li>
                                    <li>{this.props.weight}</li>
                                </ul>
                            )
                        }
                    }
                    ReactDOM.render(<Person name='momo' age='21' weight='50kg'/>, document.getElementById('text'))
                    ReactDOM.render(<Person name='kaka' age='19' weight='50kg'/>, document.getElementById('text1'))
                </script>


            {% endblock %}
            ```
        -   ç¤ºä¾‹ï¼šv3v2  ä¿®æ”¹ä¸€ç‚¹ï¼šä½¿ç”¨è§£æ„èµ‹å€¼æ”¹è¿›ï¼špropsæ‰¹é‡ä¼ é€’ \[\[JS]å±•å¼€è¿ç®—ç¬¦ \[`...`]:å±•å¼€å¯¹è±¡]
            ```javascript
            {% extends 'react_import_tmplate.html' %}

            {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
            {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

            {% block content %}
                <!-- åˆ›å»ºå®¹å™¨ -->
                <div id="text"></div>
                <div id="text1"></div>
                <div id="text2"></div>

                <script type="text/babel"> 
                    class Person extends React.Component{
                        render(){
                            const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                            return (
                                <ul>
                                    <li>{name}</li>
                                    <li>{age}</li>
                                    <li>{weight}</li>
                                </ul>
                            )
                        }
                    }
                    const p = {name:'momo',age:'20',weight:'50kg'}
                    const p1 = {name:'kaka',age:'29',weight:'50kg'}
                    ReactDOM.render(<Person {...p}/>, document.getElementById('text'))
                    ReactDOM.render(<Person {...p1}/>, document.getElementById('text1'))

                </script>


            {% endblock %}
            ```


<!---->

-   props

[renderProps](renderProps_xt8dBGp9Cm1yVzaUWSihhL.md "renderProps")





#### å¯¹propså±æ€§è¿›è¡Œé™åˆ¶

-   å¯¹propså±æ€§è¿›è¡Œé™åˆ¶æ‰€ç”¨åˆ°å¤–éƒ¨JSæ–‡ä»¶ï¼š[ğŸ“„ prop-types.js](../file/prop-types_chTGDCHjda.js "ğŸ“„ prop-types.js")
-   [\[JSåº“\]prop-type](\[JSåº“]prop-type_ji55v62TxKVe1hhx4LE1Tp.md "\[JSåº“]prop-type")æ¨¡å—ç”¨äºé™åˆ¶propså±æ€§

**`PropTypes`**

propså±æ€§|å‚æ•°ç±»å‹é™åˆ¶

**`defaultProps`**

1.  **`defaultProps`**è®¾ç½®propså±æ€§|å‚æ•°çš„é»˜è®¤å€¼



-   ç¤ºä¾‹ï¼šå¯¹propså±æ€§è¿›è¡Œé™åˆ¶
    -   ç¤ºä¾‹ï¼šå¯¹propsä¼ é€’çš„å±æ€§è¿›è¡Œé™åˆ¶ï¼Œæƒ³è®©ageåœ¨é¡µé¢ä¸­åŠ 1ä½†æ˜¯å®é™…ageä¸å˜ï¼Œä»¥åŠåå­—åªèƒ½æ˜¯å­—ç¬¦ä¸²ä¸”éç©º; å¦åˆ™å°†æŠ¥é”™ã€‚å¹´é¾„ä¸ºç©ºï¼Œé»˜è®¤ä¸º18 \[props,**`PropTypes`**`PropType.string`,`.isRequired`,**`defaultProps`**]
        -   v1ï¼šæ•°æ®ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºé”™è¯¯
            ```javascript
            {% extends 'react_import_tmplate.html' %}

            {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
            {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

            {% block content %}
                <!-- åˆ›å»ºå®¹å™¨ -->
                <div id="text"></div>
                <div id="text1"></div>
                <div id="text2"></div>

                <script type="text/babel"> 
                    class Person extends React.Component{
                        render(){
                            const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                            return (
                                <ul>
                                    <li>{name}</li>
                                    <li>{age+1}</li>
                                    <li>{weight}</li>
                                </ul>
                            )
                        }
                    }
                    const p = {name:'momo',age:'20',weight:'50kg'}
                    const p1 = {name:'kaka',age:'29',weight:'50kg'}
                    ReactDOM.render(<Person {...p}/>, document.getElementById('text'))
                    ReactDOM.render(<Person {...p1}/>, document.getElementById('text1'))
                    const p2 = {name:'jojo',age:4,weight:'50kg'}
                    ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                </script>


            {% endblock %}
            ```
            ![](../image/image_rurqMd3bMp.png)
        -   v2ï¼šè§£å†³åŠæ³•ï¼šageåœ¨é¡µé¢ä¸­åŠ 1ä½†æ˜¯å®é™…ageä¸å˜

            ![](../image/image_EIiG16dX4m.png)
            ```javascript
            {% extends 'react_import_tmplate.html' %}

            {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
            {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

            {% block content %}
                <!-- åˆ›å»ºå®¹å™¨ -->
                <div id="text"></div>
                <div id="text1"></div>
                <div id="text2"></div>

                <script type="text/babel"> 
                    class Person extends React.Component{
                        render(){
                            const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                            return (
                                <ul>
                                    <li>{name}</li>
                                    <li>{age+1}</li>
                                    <li>{weight}</li>
                                </ul>
                            )
                        }
                    }
                    const p = {name:'momo',age:20,weight:'50kg'}
                    ReactDOM.render(<Person {...p}/>, document.getElementById('text'))

                    ReactDOM.render(<Person name='kaka' age={29} weight='50kg'/>, document.getElementById('text1'))
                    
                    const p2 = {name:'jojo',age:4,weight:'50kg'}
                    ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                </script>


            {% endblock %}
            ```
        -   v3ï¼šéœ€è¦å¢åŠ æ–°çš„jsæ–‡ä»¶ ç”¨äºé™åˆ¶ç»„ä»¶æ ‡ç­¾å±æ€§é™åˆ¶ï¼Œæ¨¡æ¿æ–‡ä»¶ï¼šreact\_import\_tmplate.html \[[ğŸ“„ prop-types.js](../file/prop-types_cd8Lz7kEAT.js "ğŸ“„ prop-types.js")][Â¶](https://www.bilibili.com/video/BV1wy4y1D7JT?t=837.9\&p=22 "Â¶")
            ```javascript
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <title>{% block title %}{% endblock %}</title>
            </head>
            <body>
                <h2>{% block h2 %}{% endblock %}</h2>

                <!-- react æ ¸å¿ƒåº“ -->
                <script type="text/javascript" src="/static/js/react.development.js"></script>     
                <!-- ç”¨äºreact æ“ä½œDOM  -->
                <script type="text/javascript" src="/static/js/react-dom.development.js"></script> 
                <!-- å°†jsxè½¬æ¢ä¸ºjs -->
                <script type="text/javascript" src="/static/js/babel.min.js"></script>
                <!-- å¼•å…¥prop-types.jsï¼Œç”¨äºé™åˆ¶ç»„ä»¶æ ‡ç­¾å±æ€§é™åˆ¶ -->
                <script type="text/javascript" src="/static/js/prop-types.js"></script>
                {% block content %}{% endblock %}
            </body>
            </html>
            ```

        -   v4ï¼šé™åˆ¶ä¼ è¾“çš„æ•°æ®ç±»å‹ åå­—åªèƒ½æ˜¯å­—ç¬¦ä¸²ä¸”éç©º
            -   æ­£å¸¸ä»£ç &#x20;
                ```javascript
                {% extends 'react_import_tmplate.html' %}

                {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
                {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

                {% block content %}
                    <!-- åˆ›å»ºå®¹å™¨ -->
                    <div id="text"></div>
                    <div id="text1"></div>
                    <div id="text2"></div>

                    <script type="text/babel"> 
                        class Person extends React.Component{
                            render(){
                                const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                                return (
                                    <ul>
                                        <li>{name}</li>
                                        <li>{age+1}</li>
                                        <li>{weight}</li>
                                    </ul>
                                )
                            }
                        }
                        Person.propTypes = {
                            name:PropTypes.string  // é™åˆ¶ä¸ºï¼Œnameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦åˆ™å°†æŠ¥é”™
                        }
                        const p = {name:'tom',age:20,weight:'50kg'}
                        ReactDOM.render(<Person {...p}/>, document.getElementById('text'))

                        ReactDOM.render(<Person name='kaka' age={29} weight='50kg'/>, document.getElementById('text1'))
                        
                        const p2 = {name:'jojo',age:4,weight:'50kg'}
                        ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                    </script>


                {% endblock %}
                ```
            -   \[E]é”™è¯¯ä»£ç  æŒ‡å®šä¸ºå­—ç¬¦ä¸²ï¼Œä¼ å…¥æ•°å­—çš„æŠ¥é”™
                -   é”™è¯¯ä»£ç 
                    ```javascript
                    {% extends 'react_import_tmplate.html' %}

                    {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
                    {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

                    {% block content %}
                        <!-- åˆ›å»ºå®¹å™¨ -->
                        <div id="text"></div>
                        <div id="text1"></div>
                        <div id="text2"></div>

                        <script type="text/babel"> 
                            class Person extends React.Component{
                                render(){
                                    const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                                    return (
                                        <ul>
                                            <li>{name}</li>
                                            <li>{age+1}</li>
                                            <li>{weight}</li>
                                        </ul>
                                    )
                                }
                            }
                            Person.propTypes = {
                                name:PropTypes.string  // é™åˆ¶ä¸ºï¼Œnameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦åˆ™å°†æŠ¥é”™
                            }
                            const p = { name:111 ,age:20,weight:'50kg'}
                            ReactDOM.render(<Person {...p}/>, document.getElementById('text'))

                            ReactDOM.render(<Person name='kaka' age={29} weight='50kg'/>, document.getElementById('text1'))
                            
                            const p2 = {name:'jojo',age:4,weight:'50kg'}
                            ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                        </script>


                    {% endblock %}
                    ```
                ```javascript
                react.development.js:2726 Warning: Failed prop type: Invalid prop `name` of type `number` supplied to `Person`, expected `string`.
                    in Person
                ```
                ![](../image/image_3VeEnNwSot.png)
            -   \[E]é”™è¯¯ä»£ç  æŒ‡å®šå±æ€§éç©ºï¼Œä¼ å…¥ç©º
                -   è¯¯code
                    ```javascript
                    {% extends 'react_import_tmplate.html' %}

                    {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
                    {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

                    {% block content %}
                        <!-- åˆ›å»ºå®¹å™¨ -->
                        <div id="text"></div>
                        <div id="text1"></div>
                        <div id="text2"></div>

                        <script type="text/babel"> 
                            class Person extends React.Component{
                                render(){
                                    const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                                    return (
                                        <ul>
                                            <li>{name}</li>
                                            <li>{age+1}</li>
                                            <li>{weight}</li>
                                        </ul>
                                    )
                                }
                            }
                            Person.propTypes = {
                                name:PropTypes.string.isRequired,  // é™åˆ¶ä¸ºï¼Œnameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦åˆ™å°†æŠ¥é”™
                            }
                            const p = {name:'tom',age:20,weight:'50kg'}
                            ReactDOM.render(<Person {...p}/>, document.getElementById('text'))

                            ReactDOM.render(<Person age={29} weight='50kg'/>, document.getElementById('text1'))
                            
                            const p2 = {name:'jojo',age:4,weight:'50kg'}
                            ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                        </script>


                    {% endblock %}
                    ```
                ```javascript
                react.development.js:2726 Warning: Failed prop type: The prop `name` is marked as required in `Person`, but its value is `undefined`.
                    in Person
                ```
                ![](../image/image_Eg8jbZcHv5.png)
        -   v5ï¼šå¹´é¾„ä¸ºç©ºï¼Œé»˜è®¤ä¸º18

            ![](../image/image_Z9aI8eEIKm.png)
            ```javascript
            {% extends 'react_import_tmplate.html' %}

            {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
            {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

            {% block content %}
                <!-- åˆ›å»ºå®¹å™¨ -->
                <div id="text"></div>
                <div id="text1"></div>
                <div id="text2"></div>

                <script type="text/babel"> 
                    class Person extends React.Component{
                        render(){
                            const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                            return (
                                <ul>
                                    <li>{name}</li>
                                    <li>{age+1}</li>
                                    <li>{weight}</li>
                                </ul>
                            )
                        }
                    }
                     Person.propTypes = {
                        name:PropTypes.string.isRequired,  // é™åˆ¶ä¸ºï¼Œnameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ä¸”å¿…é¡»ä¼ ï¼Œå¦åˆ™å°†æŠ¥é”™
                    }
                    Person.defaultProps = {
                        age:18,
                    } 
                    const p = {name:'tom',age:20,weight:'50kg'}
                    ReactDOM.render(<Person {...p}/>, document.getElementById('text'))

                    ReactDOM.render(<Person name='kaka' age={29} weight='50kg'/>, document.getElementById('text1'))
                    
                    const p2 = {name:'jojo', weight:'50kg'}
                    ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                </script>


            {% endblock %}
            ```
    -   ç¤ºä¾‹ï¼šå¯¹propså±æ€§è¿›è¡Œé™åˆ¶ \[`PropType.string`,`.isRequired`]
        ```javascript
                Person.propTypes = {
                    name:PropTypes.string  // é™åˆ¶nameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦åˆ™å°†æŠ¥é”™
                }

        ```
        ```javascript
                Person.propTypes = {
                    name:PropTypes.string.isRequired,  // é™åˆ¶ä¸ºï¼Œnameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸”éç©ºï¼Œå¦åˆ™å°†æŠ¥é”™
                }
        ```





***

### refså±æ€§è§£æ

å‡½æ•°å¼ç»„ä»¶è°ƒç”¨refså±æ€§çš„æ–¹å¼ï¼š`React.useRef()`

ç±»å¼ç»„ä»¶è°ƒç”¨refså±æ€§çš„ä¸‰ç§æ–¹å¼

1.  æ–¹å¼1/3å­—ç¬¦ä¸²å½¢å¼çš„ref(ä¸æ¨è) \[refs]
    1.  Reactå¼€å¯ä¸¥æ ¼æ¨¡å¼æ—¶ï¼Œä¸èƒ½ä½¿ç”¨
2.  æ–¹å¼2/3å›è°ƒ(ç®­å¤´å‡½æ•°)å‚æ•°å½¢å¼çš„ref \[refs]
3.  æ–¹å¼3/3 apiå‚æ•°å½¢å¼çš„ref(æ¨è) \[refs]

-   ç¤ºä¾‹
    -   \[ç¤ºä¾‹]#18 \[æ–¹å¼2/3å›è°ƒ(ç®­å¤´å‡½æ•°)å‚æ•°å½¢å¼çš„ref \[refs]Reactå¼€å¯ä¸¥æ ¼æ¨¡å¼æ—¶ï¼Œä¸èƒ½ä½¿ç”¨,æ–¹å¼1/3å­—ç¬¦ä¸²å½¢å¼çš„ref(ä¸æ¨è) \[]æ–¹å¼3/3 apiå‚æ•°å½¢å¼çš„ref(æ¨è) \[][Â¶](https://www.bilibili.com/video/BV1sx4y1L7Rg?t=1341.2\&p=18 "Â¶")]

        ![](../image/image_bj7QnxGInH.png)
-   åœ¨å‚æ•°æ˜¯refæ—¶ï¼Œæ‰ä¼šå¸®ä½ è°ƒç”¨å‡½æ•°
-   1

    ![](../image/image_yniusP4esD.png)

<!---->

-   refs



***

### æ”¶é›†è¡¨å•æ•°æ®

1.  å—æ§ç»„ä»¶
2.  éå—æ§ç»„ä»¶



-   å—æ§ç»„ä»¶å¯ä»¥çœç•¥refsçš„è®¾ç½®(æ¨è)

***



## ç¤ºä¾‹

-   ç¤ºä¾‹ï¼šå¯¹propså±æ€§è¿›è¡Œé™åˆ¶
    -   ç¤ºä¾‹ï¼šå¯¹propsä¼ é€’çš„å±æ€§è¿›è¡Œé™åˆ¶ï¼Œæƒ³è®©ageåœ¨é¡µé¢ä¸­åŠ 1ä½†æ˜¯å®é™…ageä¸å˜ï¼Œä»¥åŠåå­—åªèƒ½æ˜¯å­—ç¬¦ä¸²ä¸”éç©º; å¦åˆ™å°†æŠ¥é”™ã€‚å¹´é¾„ä¸ºç©ºï¼Œé»˜è®¤ä¸º18 \[props,**`PropTypes`**`PropType.string`,`.isRequired`,**`defaultProps`**]
        -   v1ï¼šæ•°æ®ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºé”™è¯¯
            ```javascript
            {% extends 'react_import_tmplate.html' %}

            {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
            {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

            {% block content %}
                <!-- åˆ›å»ºå®¹å™¨ -->
                <div id="text"></div>
                <div id="text1"></div>
                <div id="text2"></div>

                <script type="text/babel"> 
                    class Person extends React.Component{
                        render(){
                            const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                            return (
                                <ul>
                                    <li>{name}</li>
                                    <li>{age+1}</li>
                                    <li>{weight}</li>
                                </ul>
                            )
                        }
                    }
                    const p = {name:'momo',age:'20',weight:'50kg'}
                    const p1 = {name:'kaka',age:'29',weight:'50kg'}
                    ReactDOM.render(<Person {...p}/>, document.getElementById('text'))
                    ReactDOM.render(<Person {...p1}/>, document.getElementById('text1'))
                    const p2 = {name:'jojo',age:4,weight:'50kg'}
                    ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                </script>


            {% endblock %}
            ```
            ![](../image/image_rurqMd3bMp.png)
        -   v2ï¼šè§£å†³åŠæ³•ï¼šageåœ¨é¡µé¢ä¸­åŠ 1ä½†æ˜¯å®é™…ageä¸å˜

            ![](../image/image_EIiG16dX4m.png)
            ```javascript
            {% extends 'react_import_tmplate.html' %}

            {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
            {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

            {% block content %}
                <!-- åˆ›å»ºå®¹å™¨ -->
                <div id="text"></div>
                <div id="text1"></div>
                <div id="text2"></div>

                <script type="text/babel"> 
                    class Person extends React.Component{
                        render(){
                            const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                            return (
                                <ul>
                                    <li>{name}</li>
                                    <li>{age+1}</li>
                                    <li>{weight}</li>
                                </ul>
                            )
                        }
                    }
                    const p = {name:'momo',age:20,weight:'50kg'}
                    ReactDOM.render(<Person {...p}/>, document.getElementById('text'))

                    ReactDOM.render(<Person name='kaka' age={29} weight='50kg'/>, document.getElementById('text1'))
                    
                    const p2 = {name:'jojo',age:4,weight:'50kg'}
                    ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                </script>


            {% endblock %}
            ```
        -   v3ï¼šéœ€è¦å¢åŠ æ–°çš„jsæ–‡ä»¶ ç”¨äºé™åˆ¶ç»„ä»¶æ ‡ç­¾å±æ€§é™åˆ¶ï¼Œæ¨¡æ¿æ–‡ä»¶ï¼šreact\_import\_tmplate.html \[[ğŸ“„ prop-types.js](../file/prop-types_GhdaixZjfH.js "ğŸ“„ prop-types.js")][Â¶](https://www.bilibili.com/video/BV1wy4y1D7JT?t=837.9\&p=22 "Â¶")
            ```javascript
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <title>{% block title %}{% endblock %}</title>
            </head>
            <body>
                <h2>{% block h2 %}{% endblock %}</h2>

                <!-- react æ ¸å¿ƒåº“ -->
                <script type="text/javascript" src="/static/js/react.development.js"></script>     
                <!-- ç”¨äºreact æ“ä½œDOM  -->
                <script type="text/javascript" src="/static/js/react-dom.development.js"></script> 
                <!-- å°†jsxè½¬æ¢ä¸ºjs -->
                <script type="text/javascript" src="/static/js/babel.min.js"></script>
                <!-- å¼•å…¥prop-types.jsï¼Œç”¨äºé™åˆ¶ç»„ä»¶æ ‡ç­¾å±æ€§é™åˆ¶ -->
                <script type="text/javascript" src="/static/js/prop-types.js"></script>
                {% block content %}{% endblock %}
            </body>
            </html>
            ```

        -   v4ï¼šé™åˆ¶ä¼ è¾“çš„æ•°æ®ç±»å‹ åå­—åªèƒ½æ˜¯å­—ç¬¦ä¸²ä¸”éç©º
            -   æ­£å¸¸ä»£ç &#x20;
                ```javascript
                {% extends 'react_import_tmplate.html' %}

                {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
                {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

                {% block content %}
                    <!-- åˆ›å»ºå®¹å™¨ -->
                    <div id="text"></div>
                    <div id="text1"></div>
                    <div id="text2"></div>

                    <script type="text/babel"> 
                        class Person extends React.Component{
                            render(){
                                const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                                return (
                                    <ul>
                                        <li>{name}</li>
                                        <li>{age+1}</li>
                                        <li>{weight}</li>
                                    </ul>
                                )
                            }
                        }
                        Person.propTypes = {
                            name:PropTypes.string  // é™åˆ¶ä¸ºï¼Œnameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦åˆ™å°†æŠ¥é”™
                        }
                        const p = {name:'tom',age:20,weight:'50kg'}
                        ReactDOM.render(<Person {...p}/>, document.getElementById('text'))

                        ReactDOM.render(<Person name='kaka' age={29} weight='50kg'/>, document.getElementById('text1'))
                        
                        const p2 = {name:'jojo',age:4,weight:'50kg'}
                        ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                    </script>


                {% endblock %}
                ```
            -   \[E]é”™è¯¯ä»£ç  æŒ‡å®šä¸ºå­—ç¬¦ä¸²ï¼Œä¼ å…¥æ•°å­—çš„æŠ¥é”™
                -   é”™è¯¯ä»£ç 
                    ```javascript
                    {% extends 'react_import_tmplate.html' %}

                    {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
                    {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

                    {% block content %}
                        <!-- åˆ›å»ºå®¹å™¨ -->
                        <div id="text"></div>
                        <div id="text1"></div>
                        <div id="text2"></div>

                        <script type="text/babel"> 
                            class Person extends React.Component{
                                render(){
                                    const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                                    return (
                                        <ul>
                                            <li>{name}</li>
                                            <li>{age+1}</li>
                                            <li>{weight}</li>
                                        </ul>
                                    )
                                }
                            }
                            Person.propTypes = {
                                name:PropTypes.string  // é™åˆ¶ä¸ºï¼Œnameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦åˆ™å°†æŠ¥é”™
                            }
                            const p = { name:111 ,age:20,weight:'50kg'}
                            ReactDOM.render(<Person {...p}/>, document.getElementById('text'))

                            ReactDOM.render(<Person name='kaka' age={29} weight='50kg'/>, document.getElementById('text1'))
                            
                            const p2 = {name:'jojo',age:4,weight:'50kg'}
                            ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                        </script>


                    {% endblock %}
                    ```
                ```javascript
                react.development.js:2726 Warning: Failed prop type: Invalid prop `name` of type `number` supplied to `Person`, expected `string`.
                    in Person
                ```
                ![](../image/image_3VeEnNwSot.png)
            -   \[E]é”™è¯¯ä»£ç  æŒ‡å®šå±æ€§éç©ºï¼Œä¼ å…¥ç©º
                -   è¯¯code
                    ```javascript
                    {% extends 'react_import_tmplate.html' %}

                    {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
                    {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

                    {% block content %}
                        <!-- åˆ›å»ºå®¹å™¨ -->
                        <div id="text"></div>
                        <div id="text1"></div>
                        <div id="text2"></div>

                        <script type="text/babel"> 
                            class Person extends React.Component{
                                render(){
                                    const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                                    return (
                                        <ul>
                                            <li>{name}</li>
                                            <li>{age+1}</li>
                                            <li>{weight}</li>
                                        </ul>
                                    )
                                }
                            }
                            Person.propTypes = {
                                name:PropTypes.string.isRequired,  // é™åˆ¶ä¸ºï¼Œnameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦åˆ™å°†æŠ¥é”™
                            }
                            const p = {name:'tom',age:20,weight:'50kg'}
                            ReactDOM.render(<Person {...p}/>, document.getElementById('text'))

                            ReactDOM.render(<Person age={29} weight='50kg'/>, document.getElementById('text1'))
                            
                            const p2 = {name:'jojo',age:4,weight:'50kg'}
                            ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                        </script>


                    {% endblock %}
                    ```
                ```javascript
                react.development.js:2726 Warning: Failed prop type: The prop `name` is marked as required in `Person`, but its value is `undefined`.
                    in Person
                ```
                ![](../image/image_Eg8jbZcHv5.png)
        -   v5ï¼šå¹´é¾„ä¸ºç©ºï¼Œé»˜è®¤ä¸º18

            ![](../image/image_Z9aI8eEIKm.png)
            ```javascript
            {% extends 'react_import_tmplate.html' %}

            {% block title %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}
            {% block h2 %}ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§ï¼šprops{% endblock %}

            {% block content %}
                <!-- åˆ›å»ºå®¹å™¨ -->
                <div id="text"></div>
                <div id="text1"></div>
                <div id="text2"></div>

                <script type="text/babel"> 
                    class Person extends React.Component{
                        render(){
                            const {name, age, weight} = this.props  // è§£æ„èµ‹å€¼
                            return (
                                <ul>
                                    <li>{name}</li>
                                    <li>{age+1}</li>
                                    <li>{weight}</li>
                                </ul>
                            )
                        }
                    }
                     Person.propTypes = {
                        name:PropTypes.string.isRequired,  // é™åˆ¶ä¸ºï¼Œnameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ä¸”å¿…é¡»ä¼ ï¼Œå¦åˆ™å°†æŠ¥é”™
                    }
                    Person.defaultProps = {
                        age:18,
                    } 
                    const p = {name:'tom',age:20,weight:'50kg'}
                    ReactDOM.render(<Person {...p}/>, document.getElementById('text'))

                    ReactDOM.render(<Person name='kaka' age={29} weight='50kg'/>, document.getElementById('text1'))
                    
                    const p2 = {name:'jojo', weight:'50kg'}
                    ReactDOM.render(<Person {...p2}/>, document.getElementById('text2'))
                </script>


            {% endblock %}
            ```
    -   ç¤ºä¾‹ï¼šå¯¹propså±æ€§è¿›è¡Œé™åˆ¶ \[`PropType.string`,`.isRequired`]
        ```javascript
                Person.propTypes = {
                    name:PropTypes.string  // é™åˆ¶nameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦åˆ™å°†æŠ¥é”™
                }

        ```
        ```javascript
                Person.propTypes = {
                    name:PropTypes.string.isRequired,  // é™åˆ¶ä¸ºï¼Œnameåªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸”éç©ºï¼Œå¦åˆ™å°†æŠ¥é”™
                }
        ```



## ç¢ç‰‡

Reactäº‹ä»¶ç»‘å®š

`.hsetState()`

-

